# Base mise configuration for all environments (including CI)
# For developer-specific tools (Claude, Firebase), use: MISE_ENV=dev mise install

[tools]
flutter = "3.38.3"
node = "21"  # For http_server and Playwright e2e tests

[tasks.test]
run = 'flutter test'

[tasks.coverage]
run = '''
dart run build_runner build --delete-conflicting-outputs
flutter test --coverage
echo "Coverage report generated at coverage/lcov.info"
echo "To view HTML report, install lcov and run: genhtml coverage/lcov.info -o coverage/html"
'''

[tasks.analyze]
run = 'flutter analyze --no-fatal-infos'

[tasks.dev]
run = 'flutter run -d web-server --web-port 8080'
